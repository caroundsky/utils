!function(e,t){e&&!e.getElementById("livereloadscript")&&((t=e.createElement("script")).async=1,t.src="//"+(self.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",t.id="livereloadscript",e.getElementsByTagName("head")[0].appendChild(t))}(self.document);var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r}function __awaiter(e,i,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function o(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,o)}a((c=c.apply(e,i||[])).next())})}function __generator(n,o){var a,i,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,i=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=o.call(n,c)}catch(e){t=[6,e],i=0}finally{a=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}var defaults=defaults||{};function deepMerge(e,t,r){var n,o={};if(Array.isArray(e))return e.concat(t);for(n in e)o[a=r?n.toLowerCase():n]=e[n];for(n in t){var a=r?n.toLowerCase():n,i=t[n];o[a]=a in o&&"object"==typeof i?deepMerge(o[a],i,!1):i}return o}function redaxios(e,t,r,n){"string"!=typeof e&&(e=(t=e).url);var o={config:t},a=deepMerge(defaults,t),t={},i=n||a.data,n=((a.transformRequest||[]).map(function(e){i=e(i,a.headers)||i}),i&&"object"==typeof i&&"function"!=typeof i.append&&(i=JSON.stringify(i),t["Content-Type"]="application/json;charset=UTF-8"),"undefined"!=typeof document&&document.cookie.match(RegExp("(^|; )"+a.xsrfCookieName+"=([^;]*)")));return n&&(t[a.xsrfHeaderName]=decodeURIComponent(n[2])),a.auth&&(t.authorization=a.auth),a.baseURL&&(e=e.replace(/^(?!.*\/\/)\/?(.*)$/,a.baseURL+"/$1")),a.params&&(n=~e.indexOf("?")?"&":"?",e+=n+(a.paramsSerializer?a.paramsSerializer(a.params):new URLSearchParams(a.params))),(a.fetch||fetch)(e,{method:r||a.method,body:i,headers:deepMerge(a.headers,t,!1),credentials:a.withCredentials?"include":"same-origin"}).then(function(e){for(var t in e)"function"!=typeof e[t]&&(o[t]=e[t]);var r=a.validateStatus?a.validateStatus(e.status):e.ok;return"stream"==a.responseType?(o.data=e.body,o):e[a.responseType||"text"]().then(function(e){o.data=e,o.data=JSON.parse(e)}).catch(Object).then(function(){return r?o:(o.msg=o.status+" "+o.statusText,Promise.reject(o))})})}(redaxios.request=redaxios).get=function(e,t){return redaxios(e,t,"get")},redaxios.delete=function(e,t){return redaxios(e,t,"delete")},redaxios.head=function(e,t){return redaxios(e,t,"head")},redaxios.options=function(e,t){return redaxios(e,t,"options")},redaxios.post=function(e,t,r){return redaxios(e,r,"post",t)},redaxios.put=function(e,t,r){return redaxios(e,r,"put",t)},redaxios.patch=function(e,t,r){return redaxios(e,r,"patch",t)},redaxios.all=Promise.all.bind(Promise),redaxios.spread=function(t){return function(e){return t.apply(this,e)}},redaxios.CancelToken="function"==typeof AbortController?AbortController:Object,redaxios.defaults=defaults;var Redaxios=function(e){return redaxios(e)},setDefalut=function(t,r){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=r[e])}),t},Axios=Redaxios,DEFAULT_VALUE={suffix:"xlsx",errMatch:'"msg'};function downLoadFile(e,t){var r=this,t=setDefalut(t,DEFAULT_VALUE),l=t.fileName,f=t.suffix,d=t.errMatch,p=t.transformResponse,n=__rest(t,["fileName","suffix","errMatch","transformResponse"]);return n.headers={Accept:"application/json, text/plain, */*"},new Promise(function(c,u){Axios(__assign({url:e,method:"post",responseType:"blob",withCredentials:!0,validateStatus:function(e){return[200].includes(e)}},n)).then(function(s){return __awaiter(r,void 0,void 0,function(){var t,r,n,o,a,i;return __generator(this,function(e){switch(e.label){case 0:if("function"==typeof p&&(s=p(s)),n=s.headers,t=s.data,200!==s.status)return[2,u({errMsg:s})];r="",l?r="".concat(l,".").concat(f):(n=n.get("content-disposition"))&&-1!==n.indexOf("attchement")&&null!=(n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n))&&n[1]&&(r=decodeURI(n[1].replace(/['"]/g,""))),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.text()];case 2:return n=e.sent(),-1<JSON.stringify(n).indexOf(d)?[2,u({errMsg:n})]:[3,4];case 3:return i=e.sent(),console.log(i),alert("您的浏览器版本太低，可能会导致导出失败，建议升级您的浏览器版本"),[3,4];case 4:return o=window.URL||window.webkitURL,a=o.createObjectURL(t),r?void 0===(i=document.createElement("a")).download?window.location.href=a:(i.href=a,i.download=r,document.body.appendChild(i),i.click(),i.remove()):window.open(a),setTimeout(function(){return o.revokeObjectURL(a)},100),c(),[2]}})})}).catch(function(e){return u({errMsg:e})})})}var formatUrl=function(e){for(var t=e.split("?")[1].split("&"),r={},n=0;n<t.length;n++){var o=t[n].split("="),a=o[0],o=o[1];r[a]?(r[a]=Array.isArray(r[a])?r[a]:[r[a]],r[a].push(o)):r[a]=o}return r};function zip(){console.log("zip")}var components={downloadFile:downLoadFile,formatUrl:formatUrl,zip:zip};export{components as default,downLoadFile as downloadFile,formatUrl,zip};
